<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Результаты Сегмента - Фигурное Катание</title>

    <!-- Google Fonts: Inter, Roboto Condensed -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
      /* --- Telegram-inspired Design by FSA --- */
:root {
    /* Общие цвета Telegram */
    --tg-bg-primary: #f0f2f5; /* Светло-серый фон страницы, как в Telegram */
    --tg-text-primary: #000000; /* Основной черный текст */
    --tg-text-secondary: #8e8e93; /* Вторичный серый текст */
    --tg-accent-blue: #007AFF; /* Основной синий акцент */
    --tg-accent-blue-hover: #005EC4; /* Синий акцент при наведении */
    --tg-header-bg: #ffffff; /* Белый фон хедера */
    --tg-header-shadow: 0 1px 0 rgba(0, 0, 0, 0.08); /* Легкая тень хедера */
    --tg-pattern-opacity: 0.05; /* Прозрачность узоров */

    /* Цвета и стили для карточек */
    --tg-card-bg: linear-gradient(135deg, #ffffff 0%, #f7f7f9 100%); /* Мягкий градиент для карточек */
    --tg-card-border: #dcdcdc; /* Более темная граница для карточек */
    --tg-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Более выраженная тень */
    --tg-card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12); /* Более выраженная тень при наведении */

    /* Цвета текста на карточке */
    --tg-card-text-category: #555555; /* Более темный серый для категории */
    --tg-card-text-title: #1c1c1e; /* Почти черный для названия турнира */
    --tg-card-text-label: #666666; /* Серый для лейблов */
    --tg-card-text-value: #1c1c1e; /* Почти черный для значений */

    /* Эффект "рельефного" текста */
    --tg-text-emboss-light: 0.5px 0.5px 1px rgba(255, 255, 255, 0.8), -0.5px -0.5px 1px rgba(0, 0, 0, 0.1);
    --tg-text-emboss-dark: 0.5px 0.5px 1px rgba(0, 0, 0, 0.2), -0.5px -0.5px 1px rgba(255, 255, 255, 0.6);

    --transition-speed: 0.3s ease;
}

/* --- Глобальные стили --- */
*, *::before, *::after { box-sizing: border-box; }

body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--tg-bg-primary);
    color: var(--tg-text-primary);
    line-height: 1.6;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
    font-weight: 400;
}

/* --- Логотип --- */
.logo {
    font-family: 'Roboto Condensed', sans-serif;
    font-weight: 700;
    font-size: 2em;
    color: var(--tg-accent-blue);
    margin: 0 10px;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    display: inline-flex;
    align-items: center;
}
.logo-icon { font-size: 1.1em; margin-right: 8px; color: var(--tg-accent-blue); }

/* --- Хедер --- */
.header {
    background: var(--tg-header-bg);
    padding: 12px 20px;
    box-shadow: var(--tg-header-shadow);
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
}
.header nav {
    display: flex;
    gap: 25px;
    margin-left: auto;
}
.header a {
    color: var(--tg-text-primary);
    text-decoration: none;
    font-weight: 500;
    font-size: 1.05em;
    transition: color var(--transition-speed);
    position: relative; /* Для подводки */
}
.header a::after { /* Подводка под ссылкой */
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 2px;
    background-color: var(--tg-accent-blue);
    transition: width var(--transition-speed);
}
.header a:hover {
    color: var(--tg-accent-blue-hover);
}
.header a:hover::after {
    width: 100%;
}

/* --- Контейнер для страницы --- */
.page-container {
    max-width: 1200px;
    margin: 30px auto;
    padding: 0 20px;
    text-align: center;
    flex-grow: 1;
    position: relative;
    z-index: 1;
}

/* --- Заголовок страницы --- */
h1 {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 2.6em;
    font-weight: 700;
    margin-bottom: 30px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--tg-text-primary);
    position: relative;
    padding-bottom: 8px;
}
h1::after {
    content: '';
    position: absolute;
    bottom: 0; left: 50%; transform: translateX(-50%);
    width: 70px;
    height: 2.5px;
    background-color: var(--tg-accent-blue);
    border-radius: 2px;
}

/* --- Секция с результатами сегмента --- */
.segment-results-section {
    margin-top: 30px;
    text-align: left; /* Результаты выравниваются по левому краю */
}

/* --- Заголовок сегмента --- */
.segment-header {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 2.2em;
    font-weight: 700;
    margin-bottom: 25px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--tg-accent-blue);
    border-bottom: 2px solid var(--tg-accent-blue);
    padding-bottom: 10px;
}

/* --- Карточка спортсмена --- */
.athlete-card {
    background: var(--tg-card-bg);
    border: 1px solid var(--tg-card-border);
    border-radius: 15px;
    box-shadow: var(--tg-card-shadow);
    padding: 20px 25px;
    margin-bottom: 15px;
    transition: transform var(--transition-speed), box-shadow var(--transition-speed);
    display: flex;
    flex-direction: column;
    position: relative; /* Для стрелки */
}
.athlete-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--tg-card-shadow-hover);
}

.athlete-card-header {
    display: flex;
    justify-content: space-between; /* Позволяет разнести элементы */
    align-items: center;
    cursor: pointer;
    width: 100%;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--tg-card-border);
    margin-bottom: 15px;
    flex-wrap: wrap; /* Позволяет переноситься на новую строку, если нужно */
}

.athlete-main-info {
    display: flex;
    align-items: center;
    flex-wrap: nowrap; /* НЕ переносим внутри этого блока */
    gap: 5px; /* Уменьшаем отступ между элементами (ранг, имя, место) */
    min-width: 0; /* Важно для flexbox, чтобы избежать переполнения */
    flex-grow: 1; /* Занимает доступное пространство, прижимает к левому краю */
}

.athlete-rank {
    font-family: 'Inter', sans-serif;
    font-size: 1.2em;
    font-weight: 700;
    color: var(--tg-accent-blue);
    margin-right: 5px; /* Уменьшаем отступ */
    min-width: 30px; /* Фиксированная ширина для ранга */
    text-align: center;
    flex-shrink: 0; /* Не сжимаем ранг */
}

.athlete-name {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 1.6em;
    font-weight: 700;
    color: var(--tg-text-primary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-right: 5px; /* Небольшой отступ */
    white-space: nowrap; /* Чтобы имя не переносилось */
    flex-shrink: 0; /* Не сжимаем имя */
}

.athlete-location {
    font-family: 'Inter', sans-serif;
    font-size: 0.9em;
    color: var(--tg-text-secondary);
    margin-right: 15px; /* Отступ от следующего блока */
    font-style: italic;
    flex-shrink: 0; /* Не сжимаем местоположение */
}

.athlete-total-score {
    font-family: 'Inter', sans-serif;
    font-size: 1.4em;
    font-weight: 600;
    color: var(--tg-accent-blue);
    margin-left: auto; /* Прижимаем балл вправо */
    flex-shrink: 0; /* Не сжимаем балл */
    white-space: nowrap; /* Чтобы балл не переносился */
}

.expand-container {
    display: flex;
    align-items: center;
    margin-left: 15px; /* Отступ от балла */
    flex-shrink: 0; /* Не сжимаем стрелку */
}

.expand-arrow {
    font-size: 1.5em;
    color: var(--tg-text-secondary);
    transition: transform var(--transition-speed);
    display: inline-block;
}
.athlete-card-header.expanded .expand-arrow {
    transform: rotate(90deg);
}

/* --- Протокол --- */
.protocol-details {
    display: none;
    background-color: #ffffff;
    padding: 15px 20px;
    border-radius: 0 0 15px 15px;
    margin-top: -15px;
    border: 1px solid var(--tg-card-border);
    border-top: none;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
    overflow: hidden;
}
.athlete-card-header.expanded + .protocol-details {
    display: block;
}

.protocol-summary {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2 колонки для пар "Лейбл - Значение" */
    gap: 15px; /* Отступ между парами */
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px dashed var(--tg-card-border);
    text-align: left; /* Выравнивание текста внутри сетки */
}
.protocol-summary > div { /* Каждый элемент в сетке */
    display: flex;
    justify-content: space-between; /* Разносим лейбл и значение */
    align-items: center;
}
.protocol-summary .label {
    font-weight: 500;
    color: var(--tg-card-text-label);
    font-size: 0.95em;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.protocol-summary .value {
    font-weight: 600;
    color: var(--tg-text-primary);
    font-size: 1.1em;
}
.protocol-summary .deductions-value {
    color: #E53935; /* Красный для штрафов */
}

/* --- Таблица элементов --- */
.elements-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 8px;
}
.elements-table th,
.elements-table td {
    padding: 10px 15px;
    text-align: center;
    font-size: 0.95em;
    color: var(--tg-text-primary);
}
.elements-table thead th {
    background-color: var(--tg-accent-blue);
    color: #ffffff;
    font-family: 'Roboto Condensed', sans-serif;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-radius: 10px 10px 0 0;
}
.elements-table tbody tr {
    background: linear-gradient(135deg, #ffffff 0%, #f7f7f9 100%);
    border: 1px solid var(--tg-card-border);
    border-radius: 10px;
    transition: box-shadow var(--transition-speed);
}
.elements-table tbody tr:hover {
    box-shadow: var(--tg-card-shadow-hover);
}
.elements-table td {
    font-family: 'Inter', sans-serif;
}
.elements-table td:first-child, /* Номер элемента */
.elements-table td:nth-child(2) { /* Название элемента */
    text-align: left;
    font-weight: 500;
}
.elements-table td:last-child { /* Total */
    font-weight: 600;
    color: var(--tg-accent-blue);
}

/* --- Адаптивность --- */
@media (max-width: 992px) {
    .header { padding: 10px 15px; }
    .logo { font-size: 1.8em; }
    .header nav { gap: 20px; }
    .page-container { margin: 25px auto; padding: 0 15px; }
    h1 { font-size: 2.3em; margin-bottom: 25px; }
    h1::after { width: 60px; height: 2px; }

    .segment-header { font-size: 1.9em; margin-bottom: 20px; }

    .athlete-card { padding: 15px 20px; margin-bottom: 12px; }
    .athlete-card-header { padding-bottom: 8px; margin-bottom: 12px; }
    .athlete-main-info { gap: 8px; }
    .athlete-rank { font-size: 1.1em; margin-right: 8px; }
    .athlete-location { margin-right: 10px; font-size: 0.85em; }
    .athlete-name { font-size: 1.4em; }
    .athlete-total-score { font-size: 1.2em; margin-left: 10px; }
    .expand-container { margin-left: 10px; }
    .expand-arrow { font-size: 1.3em; }

    .protocol-details { padding: 12px 15px; }
    .protocol-summary { grid-template-columns: 1fr; gap: 10px; } /* Одна колонка для пар */
    .protocol-summary > div { justify-content: space-between; }
    .protocol-summary .label, .protocol-summary .value { font-size: 0.9em; }

    .elements-table th, .elements-table td { padding: 8px 10px; font-size: 0.9em; }
}

@media (max-width: 768px) {
    .header { flex-direction: column; gap: 10px; padding: 10px; }
    .logo { font-size: 1.7em; margin-bottom: 5px; }
    .header nav { margin-left: 0; justify-content: center; width: 100%; gap: 15px; }

    .page-container { margin: 20px auto; }
    h1 { font-size: 2em; margin-bottom: 20px; }
    h1::after { width: 50px; height: 2px; }

    .segment-header { font-size: 1.7em; margin-bottom: 15px; }

    .athlete-card { padding: 15px; margin-bottom: 10px; }

    .athlete-card-header {
        /* Изменения для мобильных: */
        flex-direction: row; /* Элементы в строку */
        justify-content: space-between; /* Разносим основные блоки (инфо и баллы) */
        align-items: center; /* Выравниваем по центру */
        flex-wrap: wrap; /* Разрешаем перенос, если совсем нет места */
        gap: 0; /* Убираем общий gap, управляем отступами явно */
    }

    .athlete-main-info {
        flex-wrap: nowrap; /* Имя и место в одну строку */
        gap: 5px; /* Уменьшаем отступ между рангом, именем, местом */
        min-width: 0; /* Для flexbox */
        flex-grow: 1; /* Занимает доступное место */
    }

    .athlete-rank {
        margin-right: 5px; /* Уменьшаем отступ */
        font-size: 1.1em; /* Чуть меньше */
        min-width: 25px; /* Уменьшаем мин. ширину */
    }
    .athlete-name {
        font-size: 1.3em; /* Чуть меньше */
        margin-right: 5px; /* Небольшой отступ */
    }
    .athlete-location {
        font-size: 0.85em; /* Чуть меньше */
        margin-right: 10px; /* Отступ от следующего блока */
    }

    .athlete-total-score {
        font-size: 1.2em; /* Чуть меньше */
        margin-left: auto; /* Прижимаем вправо */
        flex-shrink: 0; /* Не сжимаем */
        white-space: nowrap; /* Чтобы балл не переносился */
    }

    .expand-container {
        margin-left: 10px; /* Отступ от балла */
        align-items: center;
        flex-shrink: 0; /* Не сжимаем */
    }
    .expand-arrow { font-size: 1.2em; }

    .protocol-details { padding: 10px; }
    .protocol-summary { grid-template-columns: 1fr; gap: 5px; }
    .protocol-summary > div { justify-content: space-between; }
    .protocol-summary p { margin-bottom: 5px; }

    .elements-table { border-spacing: 0 5px; }
    .elements-table th, .elements-table td { padding: 6px 8px; font-size: 0.85em; }
    .elements-table thead th { border-radius: 8px 8px 0 0; }
    .elements-table tbody tr { border-radius: 8px; }
}

@media (max-width: 480px) {
    h1 { font-size: 1.8em; }
    .logo { font-size: 1.5em; }
    .header nav { gap: 10px; }

    .segment-header { font-size: 1.5em; }

    .athlete-name { font-size: 1.2em; }
    .athlete-total-score { font-size: 1.1em; }
    .expand-arrow { font-size: 1.2em; }

    .elements-table th, .elements-table td { font-size: 0.8em; padding: 5px 6px; }
}

    </style>
</head>
<body>

    <!-- Хедер -->
    <div class="header">
        <div class="logo">
            <i class="fab fa-telegram logo-icon" aria-hidden="true"></i>
            FS Aesthet
        </div>
        <nav>
            <a href="index.html">Главная</a>
            <a href="#">О нас</a>
            <a href="#">Контакты</a>
        </nav>
    </div>

    <div class="page-container">
        <h1>Результаты</h1>

        <section class="segment-results-section" id="segment-results">
            <!-- Сюда будут вставлены результаты -->
        </section>
    </div>

    <script>
        const segmentData = {
          "segmentName": "Короткая программа",
          "tournamentName": "Золотой конёк Москвы - Гран-при России",
          "results": [
  {
    "rank": 1,
    "name": "Евгений",
    "surname": "СЕМЕНЕНКО",
    "location": "Санкт-Петербург, СШОР \"Звездный лед\"",
    "region": "СПБ",
    "startNumber": 12,
    "totalScore": 96.75,
    "technicalScore": 53.91,
    "componentScore": 42.84,
    "deductions": 0.00,
    "elements": [
      {"number": 1, "name": "4T", "bv": 9.50, "goe": 1.90, "total": 11.40},
      {"number": 2, "name": "4S+3T", "bv": 13.90, "goe": 2.72, "total": 16.62},
      {"number": 3, "name": "CCoSp4", "bv": 3.50, "goe": 0.98, "total": 4.48},
      {"number": 4, "name": "3A", "bv": 8.80, "goe": 0.00, "total": 8.80},
      {"number": 5, "name": "FCSp3", "bv": 2.80, "goe": 0.67, "total": 3.47},
      {"number": 6, "name": "StSq4", "bv": 3.90, "goe": 1.40, "total": 5.30},
      {"number": 7, "name": "CSSp4", "bv": 3.00, "goe": 0.84, "total": 3.84}
    ],
    "baseTechnicalScore": 45.40
  },
  {
    "rank": 2,
    "name": "Марк",
    "surname": "КОНДРАТЮК",
    "location": "Москва, МАФКК - школа \"Наши надежды\"",
    "region": "МОС",
    "startNumber": 8,
    "totalScore": 96.42,
    "technicalScore": 53.83,
    "componentScore": 42.59,
    "deductions": 0.00,
    "elements": [
      {"number": 1, "name": "3A", "bv": 8.00, "goe": 1.60, "total": 9.60},
      {"number": 2, "name": "4Lzq", "bv": 11.50, "goe": -0.46, "total": 11.04},
      {"number": 3, "name": "FCSp4", "bv": 3.20, "goe": 0.83, "total": 4.03},
      {"number": 4, "name": "4S+3T", "bv": 15.29, "goe": 1.75, "total": 17.04},
      {"number": 5, "name": "CCoSp4", "bv": 3.50, "goe": 0.77, "total": 4.27},
      {"number": 6, "name": "CSSp4", "bv": 3.00, "goe": 0.36, "total": 3.36},
      {"number": 7, "name": "StSq3", "bv": 3.30, "goe": 1.19, "total": 4.49}
    ],
    "baseTechnicalScore": 47.79
  },
  {
    "rank": 3,
    "name": "Роман",
    "surname": "САВОСИН",
    "location": "Москва, МАФКК - школа \"Конек Чайковской\"",
    "region": "МОС",
    "startNumber": 2,
    "totalScore": 90.22,
    "technicalScore": 49.72,
    "componentScore": 40.50,
    "deductions": 0.00,
    "elements": [
      {"number": 1, "name": "4T+3T", "bv": 13.70, "goe": 1.90, "total": 15.60},
      {"number": 2, "name": "4S", "bv": 9.70, "goe": 1.55, "total": 11.25},
      {"number": 3, "name": "CSSp4", "bv": 3.00, "goe": 0.60, "total": 3.60},
      {"number": 4, "name": "3Aq", "bv": 8.80, "goe": -0.80, "total": 8.00},
      {"number": 5, "name": "FCSp4", "bv": 3.20, "goe": 0.70, "total": 3.90},
      {"number": 6, "name": "StSq2", "bv": 2.60, "goe": 0.57, "total": 3.17},
      {"number": 7, "name": "CCoSp4", "bv": 3.50, "goe": 0.70, "total": 4.20}
    ],
    "baseTechnicalScore": 44.50
  },
  {
    "rank": 4,
    "name": "Петр",
    "surname": "ГУМЕННИК",
    "location": "Санкт-Петербург, СК ФК Тамары Москвиной",
    "region": "СПБ",
    "startNumber": 10,
    "totalScore": 90.22,
    "technicalScore": 48.71,
    "componentScore": 42.51,
    "deductions": 1.00,
    "elements": [
      {"number": 1, "name": "4F+3T", "bv": 15.20, "goe": 3.08, "total": 18.28},
      {"number": 2, "name": "4Lz<<", "bv": 5.90, "goe": -2.95, "total": 2.95},
      {"number": 3, "name": "FCSp3", "bv": 2.80, "goe": 0.56, "total": 3.36},
      {"number": 4, "name": "3A", "bv": 8.80, "goe": 2.24, "total": 11.04},
      {"number": 5, "name": "CSSp4", "bv": 3.00, "goe": 0.60, "total": 3.60},
      {"number": 6, "name": "StSq4", "bv": 3.90, "goe": 1.17, "total": 5.07},
      {"number": 7, "name": "CCoSp4", "bv": 3.50, "goe": 0.91, "total": 4.41}
    ],
    "baseTechnicalScore": 43.10
  },
  {
    "rank": 5,
    "name": "Макар",
    "surname": "ИГНАТОВ",
    "location": "Московская область, УОР №1, АФК \"Ангелы Плющенко\"",
    "region": "МОБ",
    "startNumber": 11,
    "totalScore": 85.75,
    "technicalScore": 46.16,
    "componentScore": 39.59,
    "deductions": 0.00,
    "elements": [
      {"number": 1, "name": "4Lo", "bv": 10.50, "goe": -3.15, "total": 7.35},
      {"number": 2, "name": "3A", "bv": 8.00, "goe": 1.92, "total": 9.92},
      {"number": 3, "name": "FCSp3", "bv": 2.80, "goe": 0.62, "total": 3.42},
      {"number": 4, "name": "4T+3T", "bv": 15.07, "goe": 1.90, "total": 16.97},
      {"number": 5, "name": "StSq3", "bv": 3.30, "goe": 0.73, "total": 4.03},
      {"number": 6, "name": "CSSp2", "bv": 2.30, "goe": 0.14, "total": 2.44},
      {"number": 7, "name": "CCoSp2V", "bv": 1.88, "goe": 0.15, "total": 2.03}
    ],
    "baseTechnicalScore": 43.85
  },
  {
    "rank": 6,
    "name": "Семён",
    "surname": "СОЛОВЬЕВ",
    "location": "Санкт-Петербург, СШОР \"Звездный лед\"",
    "region": "СПБ",
    "startNumber": 4,
    "totalScore": 76.26,
    "technicalScore": 40.19,
    "componentScore": 36.07,
    "deductions": 0.00,
    "elements": [
      {"number": 1, "name": "3Aq", "bv": 8.00, "goe": -1.60, "total": 6.40},
      {"number": 2, "name": "4T", "bv": 9.50, "goe": 0.76, "total": 10.26},
      {"number": 3, "name": "FCSp3", "bv": 2.80, "goe": 0.28, "total": 3.08},
      {"number": 4, "name": "3Lz+3T", "bv": 11.11, "goe": 1.30, "total": 12.41},
      {"number": 5, "name": "CSSp4", "bv": 3.00, "goe": 0.24, "total": 3.24},
      {"number": 6, "name": "StSq2", "bv": 2.60, "goe": 0.36, "total": 2.96},
      {"number": 7, "name": "CCoSp2V", "bv": 1.88, "goe": -0.04, "total": 1.84}
    ],
    "baseTechnicalScore": 38.89
  },
  {
    "rank": 7,
    "name": "Артём",
    "surname": "КОВАЛЁВ",
    "location": "Москва, Школа ФК Александра Волкова",
    "region": "МОС",
    "startNumber": 6,
    "totalScore": 75.42,
    "technicalScore": 37.59,
    "componentScore": 37.83,
    "deductions": 0.00,
    "elements": [
      {"number": 1, "name": "4Sq+2T", "bv": 11.00, "goe": -1.16, "total": 9.84},
      {"number": 2, "name": "4T<", "bv": 7.60, "goe": -1.52, "total": 6.08},
      {"number": 3, "name": "FCSp3", "bv": 2.80, "goe": 0.34, "total": 3.14},
      {"number": 4, "name": "3A", "bv": 8.80, "goe": 1.76, "total": 10.56},
      {"number": 5, "name": "CCoSp3", "bv": 3.00, "goe": 0.12, "total": 3.12},
      {"number": 6, "name": "StSq1", "bv": 1.80, "goe": 0.29, "total": 2.09},
      {"number": 7, "name": "CSSp3", "bv": 2.60, "goe": 0.16, "total": 2.76}
    ],
    "baseTechnicalScore": 37.60
  },
  {
    "rank": 8,
    "name": "Дамир",
    "surname": "ЧЕРИПКА",
    "location": "Краснодарский край, РЦСП по ФКК",
    "region": "КРД",
    "startNumber": 7,
    "totalScore": 74.17,
    "technicalScore": 41.60,
    "componentScore": 32.57,
    "deductions": 0.00,
    "elements": [
      {"number": 1, "name": "4T", "bv": 9.50, "goe": 1.90, "total": 11.40},
      {"number": 2, "name": "3A", "bv": 8.00, "goe": 0.80, "total": 8.80},
      {"number": 3, "name": "FCSp3", "bv": 2.80, "goe": 0.28, "total": 3.08},
      {"number": 4, "name": "3Lz+3T", "bv": 11.11, "goe": -1.65, "total": 9.46},
      {"number": 5, "name": "CCoSp3", "bv": 3.00, "goe": 0.30, "total": 3.30},
      {"number": 6, "name": "StSq2", "bv": 2.60, "goe": 0.26, "total": 2.86},
      {"number": 7, "name": "CSSp3", "bv": 2.60, "goe": 0.10, "total": 2.70}
    ],
    "baseTechnicalScore": 39.61
  },
  {
    "rank": 9,
    "name": "Никита",
    "surname": "САРНОВСКИЙ",
    "location": "Москва, Академия ФК \"Ангелы Плющенко\"",
    "region": "МОС",
    "startNumber": 9,
    "totalScore": 73.73,
    "technicalScore": 39.91,
    "componentScore": 34.82,
    "deductions": 1.00,
    "elements": [
      {"number": 1, "name": "2S*", "bv": 0.00, "goe": 0.00, "total": 0.00},
      {"number": 2, "name": "4T+3T", "bv": 13.70, "goe": 2.09, "total": 15.79},
      {"number": 3, "name": "FCSp3", "bv": 2.80, "goe": 0.39, "total": 3.19},
      {"number": 4, "name": "3A", "bv": 8.80, "goe": 2.08, "total": 10.88},
      {"number": 5, "name": "StSq3", "bv": 3.30, "goe": 0.33, "total": 3.63},
      {"number": 6, "name": "CCoSp3", "bv": 3.00, "goe": 0.42, "total": 3.42},
      {"number": 7, "name": "CSSp4", "bv": 3.00, "goe": 0.00, "total": 3.00}
    ],
    "baseTechnicalScore": 34.60
  },
  {
    "rank": 10,
    "name": "Артемий",
    "surname": "МАРИНИН",
    "location": "Москва, МАФКК - школа \"Наши надежды\"",
    "region": "МОС",
    "startNumber": 1,
    "totalScore": 67.82,
    "technicalScore": 35.50,
    "componentScore": 32.32,
    "deductions": 0.00,
    "elements": [
      {"number": 1, "name": "3A", "bv": 8.00, "goe": 0.16, "total": 8.16},
      {"number": 2, "name": "CCoSp4", "bv": 3.50, "goe": 0.42, "total": 3.92},
      {"number": 3, "name": "3F", "bv": 5.30, "goe": 0.95, "total": 6.25},
      {"number": 4, "name": "2Lz+3T", "bv": 6.93, "goe": 0.00, "total": 6.93},
      {"number": 5, "name": "StSq3", "bv": 3.30, "goe": 0.33, "total": 3.63},
      {"number": 6, "name": "FCSp3", "bv": 2.80, "goe": 0.39, "total": 3.19},
      {"number": 7, "name": "CSSp4", "bv": 3.00, "goe": 0.42, "total": 3.42}
    ],
    "baseTechnicalScore": 32.83
  },
  {
    "rank": 11,
    "name": "Данил",
    "surname": "ФЕДОСИМОВ",
    "location": "Санкт-Петербург, СШОР \"Академия фигурного катания\"",
    "region": "СПБ",
    "startNumber": 5,
    "totalScore": 65.43,
    "technicalScore": 33.11,
    "componentScore": 33.32,
    "deductions": 1.00,
    "elements": [
      {"number": 1, "name": "4T+2T", "bv": 10.80, "goe": 0.19, "total": 10.99},
      {"number": 2, "name": "2A", "bv": 3.30, "goe": 0.20, "total": 3.50},
      {"number": 3, "name": "CCSp3", "bv": 2.80, "goe": 0.45, "total": 3.25},
      {"number": 4, "name": "3Lz", "bv": 6.49, "goe": -2.95, "total": 3.54},
      {"number": 5, "name": "FSSp4", "bv": 3.00, "goe": 0.66, "total": 3.66},
      {"number": 6, "name": "StSq3", "bv": 3.30, "goe": 0.46, "total": 3.76},
      {"number": 7, "name": "CCoSp4", "bv": 3.50, "goe": 0.91, "total": 4.41}
    ],
    "baseTechnicalScore": 33.19
  },
  {
    "rank": 12,
    "name": "Михаил",
    "surname": "ПОЛЯНСКИЙ",
    "location": "Санкт-Петербург, СШОР \"Академия фигурного катания\"",
    "region": "СПБ",
    "startNumber": 3,
    "totalScore": 63.45,
    "technicalScore": 30.21,
    "componentScore": 34.24,
    "deductions": 1.00,
    "elements": [
      {"number": 1, "name": "2Lz*", "bv": 0.00, "goe": 0.00, "total": 0.00},
      {"number": 2, "name": "3Aq", "bv": 8.00, "goe": -4.00, "total": 4.00},
      {"number": 3, "name": "FCSp4", "bv": 3.20, "goe": 0.45, "total": 3.65},
      {"number": 4, "name": "3Lz+3T", "bv": 11.11, "goe": 0.71, "total": 11.82},
      {"number": 5, "name": "StSq2", "bv": 2.60, "goe": 0.47, "total": 3.07},
      {"number": 6, "name": "CCoSp4", "bv": 3.50, "goe": 0.63, "total": 4.13},
      {"number": 7, "name": "CSSp4", "bv": 3.00, "goe": 0.54, "total": 3.54}
    ],
    "baseTechnicalScore": 31.41
  }
]
  

  


        };

        function renderSegmentResults(data) {
            const segmentResultsElement = document.getElementById('segment-results');
            if (!segmentResultsElement) return;

            // Сортировка по рангу (если есть) или по общему баллу
            data.results.sort((a, b) => {
                if (a.rank && b.rank) {
                    return a.rank - b.rank;
                }
                return b.totalScore - a.totalScore;
            });

            const segmentHeader = document.createElement('h2');
            segmentHeader.className = 'segment-header';
            segmentHeader.innerHTML = `${data.segmentName} - ${data.tournamentName}`;
            segmentResultsElement.appendChild(segmentHeader);

            data.results.forEach(athlete => {
                const athleteCard = document.createElement('div');
                athleteCard.className = 'athlete-card';

                const headerDiv = document.createElement('div');
                headerDiv.className = 'athlete-card-header';

                const athleteMainInfoDiv = document.createElement('div');
                athleteMainInfoDiv.className = 'athlete-main-info';

                // Отображение ранга
				if (athlete.rank) {
                    const rankSpan = document.createElement('span');
                    rankSpan.className = 'athlete-rank';
                    rankSpan.textContent = `${athlete.rank}`;
                    athleteMainInfoDiv.appendChild(rankSpan);
                }

               

                const athleteNameSpan = document.createElement('span');
                athleteNameSpan.className = 'athlete-name';
                athleteNameSpan.textContent = `${athlete.name} ${athlete.surname}`;
                athleteMainInfoDiv.appendChild(athleteNameSpan);

                headerDiv.appendChild(athleteMainInfoDiv);

                const athleteTotalScoreSpan = document.createElement('span');
                athleteTotalScoreSpan.className = 'athlete-total-score';
                athleteTotalScoreSpan.textContent = athlete.totalScore.toFixed(2);
                headerDiv.appendChild(athleteTotalScoreSpan); // Добавляем балл сразу в headerDiv

                const expandContainer = document.createElement('div');
                expandContainer.className = 'expand-container';
                const expandArrow = document.createElement('i');
                expandArrow.className = 'fas fa-chevron-right expand-arrow';
                expandContainer.appendChild(expandArrow);
                headerDiv.appendChild(expandContainer);

                athleteCard.appendChild(headerDiv);

                const protocolDetailsDiv = document.createElement('div');
                protocolDetailsDiv.className = 'protocol-details';

                const protocolSummaryDiv = document.createElement('div');
                protocolSummaryDiv.className = 'protocol-summary';
                protocolSummaryDiv.innerHTML = `
                    <div>
                        <span class="label">Общий</span>
                        <span class="value">${athlete.totalScore.toFixed(2)}</span>
                    </div>
                    <div>
                        <span class="label">Техника</span>
                        <span class="value">${athlete.technicalScore.toFixed(2)}</span>
                    </div>
                    <div>
                        <span class="label">Компоненты</span>
                        <span class="value">${athlete.componentScore.toFixed(2)}</span>
                    </div>
                    <div>
                        <span class="label">Снижения</span>
                        <span class="value deductions-value">${athlete.deductions.toFixed(2)}</span>
                    </div>
                `;
                protocolDetailsDiv.appendChild(protocolSummaryDiv);

                const elementsTable = document.createElement('table');
                elementsTable.className = 'elements-table';
                elementsTable.innerHTML = `
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Элемент</th>
                            <th>BV</th>
                            <th>GOE</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Элементы будут добавлены сюда -->
                    </tbody>
                `;
                const tableBody = elementsTable.querySelector('tbody');
                athlete.elements.forEach(element => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${element.number}</td>
                        <td>${element.name}</td>
                        <td>${element.bv.toFixed(2)}</td>
                        <td>${element.goe.toFixed(2)}</td>
                        <td>${element.total.toFixed(2)}</td>
                    `;
                    tableBody.appendChild(row);
                });
                protocolDetailsDiv.appendChild(elementsTable);

                athleteCard.appendChild(protocolDetailsDiv);

                headerDiv.addEventListener('click', () => {
                    headerDiv.classList.toggle('expanded');
                    if (headerDiv.classList.contains('expanded')) {
                        // Задержка перед прокруткой, чтобы дать браузеру время отрисовать элементы
                        setTimeout(() => {
                            athleteCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }, 100); // 100ms задержки
                    }
                });

                segmentResultsElement.appendChild(athleteCard);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderSegmentResults(segmentData);
        });
    </script>
</body>
</html>